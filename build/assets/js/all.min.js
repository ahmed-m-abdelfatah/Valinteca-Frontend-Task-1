const form=document.querySelector(".form"),inputs={username:document.getElementById("username"),email:document.getElementById("email"),password:document.getElementById("password"),cPassword:document.getElementById("c-password")},regex={email:{pattern:/^[A-Za-z0-9+_.-]+@(.+)$/,errorMsg:"Email is not valid"},username:{pattern:/^[a-zA-Z][a-zA-Z0-9]{3,13}[a-zA-Z]$/,errorMsg:"Username must consist of 5 to 15 characters, only letters and numbers are allowed, with no numbers at the beginning or the end"},password:{pattern:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,errorMsg:"Password minimum eight characters, at least one letter and one number"}};function areAllFieldsHaveContent(e){let r=0;for(const n in e){var t=e[n];""===t.value.trim()&&(showError(t,"This field is required"),r++)}return 0===r}function isVaLidPattern(e,r){return!0===e.pattern.test(r.value.trim())||(showError(r,e.errorMsg),!1)}function showError(e,r){e=e.parentElement.parentElement;e.className="input-group error",e.querySelector(".error-msg").textContent=r}function clearErrors(e){for(const r in e){const t=e[r];t.addEventListener("change",()=>{var e=t.parentElement.parentElement;e.className="input-group",e.querySelector(".error-msg").textContent=""})}}function areTwoPasswordsTheSame(e,r){return e.toLowerCase()===r.toLowerCase()||(showError(inputs.cPassword,"Password and confirmation password should be the same"),!1)}async function apiReq(){let e={};for(const n in inputs){var r=inputs[n];e={...e,[r.name]:r.value}}console.log("reqBody",e);var t=await fetch("https://goldblv.com/api/hiring/tasks/register",{mode:"POST",body:JSON.stringify(e)});console.log("res",t)}form.addEventListener("submit",e=>{var r,t,n;e.preventDefault(),clearErrors(inputs),!0===areAllFieldsHaveContent(inputs)&&(e=isVaLidPattern(regex.username,inputs.username),r=isVaLidPattern(regex.email,inputs.email),t=isVaLidPattern(regex.password,inputs.password),n=areTwoPasswordsTheSame(inputs.password.value,inputs.cPassword.value),e)&&r&&t&&n&&(apiReq(),console.log("api call"))});
//# sourceMappingURL=all.min.js.map
