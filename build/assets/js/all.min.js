const form=document.querySelector(".form"),inputs={username:document.getElementById("username"),email:document.getElementById("email"),password:document.getElementById("password"),cPassword:document.getElementById("c-password")},regex={email:{pattern:/^[A-Za-z0-9+_.-]+@(.+)$/,errorMsg:"Email is not valid"},username:{pattern:/^[a-zA-Z][a-zA-Z0-9]{3,13}[a-zA-Z]$/,errorMsg:"Username must consist of 5 to 15 characters, only letters and numbers are allowed, with no numbers at the beginning or the end"},password:{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,errorMsg:"Password minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character"}};function areAllFieldsHaveContent(e){let r=0;for(const a in e){var t=e[a];""===t.value.trim()&&(showError(t,"This field is required"),r++)}return 0===r}function isVaLidPattern(e,r){return!0===e.pattern.test(r.value.trim())||(showError(r,e.errorMsg),!1)}function showError(e,r){e=e.parentElement.parentElement;e.className="input-group error",e.querySelector(".error-msg").textContent=r}function clearErrors(e){for(const r in e){const t=e[r];t.addEventListener("change",()=>{var e=t.parentElement.parentElement;e.className="input-group",e.querySelector(".error-msg").textContent=""})}}function areTwoPasswordsTheSame(e,r){return e.toLowerCase()===r.toLowerCase()||(showError(inputs.cPassword,"Password and confirmation password should be the same"),!1)}async function apiReq(){let e={};for(const a in inputs){var r=inputs[a];e={...e,[r.name]:r.value}}console.log("reqBody",e);var t=await fetch("https://goldblv.com/api/hiring/tasks/register",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)});console.log("res",t)}form.addEventListener("submit",async e=>{e.preventDefault(),clearErrors(inputs);var e=isVaLidPattern(regex.username,inputs.username),r=isVaLidPattern(regex.email,inputs.email),t=isVaLidPattern(regex.password,inputs.password),a=areTwoPasswordsTheSame(inputs.password.value,inputs.cPassword.value),n=areAllFieldsHaveContent(inputs);e&&r&&t&&a&&n&&(await apiReq(),console.log("api call"))});
//# sourceMappingURL=all.min.js.map
